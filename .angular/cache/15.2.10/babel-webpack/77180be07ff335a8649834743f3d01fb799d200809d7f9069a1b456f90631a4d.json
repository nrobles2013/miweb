{"ast":null,"code":"import { UntypedFormGroup, UntypedFormControl, Validators } from '@angular/forms';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MaterialModule } from 'app/app/mimodule/material.module';\nimport { Auditoria } from 'app/shared/models/auditoria.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/snack-bar\";\nimport * as i2 from \"app/shared/services/auditoria.service\";\nimport * as i3 from \"app/shared/services/reportes.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"app/shared/services/auth/jwt-auth.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/cdk/text-field\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/icon\";\nimport * as i12 from \"@angular/flex-layout/flex\";\nexport let ContactanosComponent = /*#__PURE__*/(() => {\n  class ContactanosComponent {\n    constructor(_snackBar, auditoriaService, reportesService, fb, jwtAuth, router, route) {\n      this._snackBar = _snackBar;\n      this.auditoriaService = auditoriaService;\n      this.reportesService = reportesService;\n      this.fb = fb;\n      this.jwtAuth = jwtAuth;\n      this.router = router;\n      this.route = route;\n    }\n    ngAfterViewInit() {\n      if (this.jwtAuth.user.cparticipe == \"99999\") {\n        this.router.navigate(['/sessions/signin']);\n      }\n    }\n    ngOnInit() {\n      this.contactanosForm = new UntypedFormGroup({\n        asunto: new UntypedFormControl(this.asunto, Validators.required),\n        mensaje: new UntypedFormControl(this.mensaje, Validators.required)\n      });\n    }\n    listPageable(p, s) {\n      // return this.http.get<any>(`${this.url}/pageable?page=${p}&size=${s}`);\n    }\n    enviarContatos() {\n      this.contactanosForm = new UntypedFormGroup({\n        asunto: new UntypedFormControl(this.asunto, Validators.required),\n        mensaje: new UntypedFormControl(this.mensaje, Validators.required)\n      });\n      if (this.contactanosForm.invalid) {\n        this._snackBar.open(\"Ingresar datos requeridos\", 'Verificar', {\n          duration: 1000,\n          horizontalPosition: 'right',\n          verticalPosition: 'top'\n        });\n        return;\n      }\n      this.jwtAuth.traerIP().subscribe(data => {\n        let date = new Date();\n        let ip = JSON.stringify(data.ip);\n        this.miip = ip;\n        this.auditoria = new Auditoria(this.miip, this.jwtAuth.user.usuario_id, this.jwtAuth.user.username, \"Enviar mensaje de contactanos\", this.jwtAuth.user.idtipoparticipe, this.jwtAuth.user.cparticipe, date);\n        this.auditoriaService.insertar(this.auditoria).subscribe();\n      });\n      this.reportesService.getEnvioContactanos(this.jwtAuth.user.displayName, this.jwtAuth.user.correo, this.asunto, this.mensaje).subscribe(response => {\n        let datosparse = JSON.stringify(response);\n        let mensaje = JSON.parse(datosparse);\n        this._snackBar.open(mensaje.mensaje, 'Informe', {\n          duration: 3000,\n          horizontalPosition: 'right',\n          verticalPosition: 'top'\n        });\n      }, err => {\n        this.router.navigate(['/sessions/signin']);\n      });\n    }\n  }\n  ContactanosComponent.ɵfac = function ContactanosComponent_Factory(t) {\n    return new (t || ContactanosComponent)(i0.ɵɵdirectiveInject(i1.MatSnackBar), i0.ɵɵdirectiveInject(i2.AuditoriaService), i0.ɵɵdirectiveInject(i3.ReportesService), i0.ɵɵdirectiveInject(i4.UntypedFormBuilder), i0.ɵɵdirectiveInject(i5.JwtAuthService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i6.ActivatedRoute));\n  };\n  ContactanosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactanosComponent,\n    selectors: [[\"app-contactanos\"]],\n    viewQuery: function ContactanosComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MaterialModule, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.materialModule = _t.first);\n      }\n    },\n    decls: 33,\n    vars: 3,\n    consts: [[\"fxLayout\", \"column\", 3, \"formGroup\", \"ngSubmit\"], [1, \"body-container\"], [1, \"mat-elevation-10\"], [1, \"example-container\"], [2, \"font-weight\", \"bold\", \"font-size\", \"20px\"], [1, \"example-container1\"], [\"appearance\", \"outline\", 1, \"fields-width\"], [2, \"color\", \"white\"], [\"matInput\", \"\", \"formControlName\", \"asunto\", 2, \"color\", \"white\", 3, \"ngModel\", \"ngModelChange\"], [1, \"example-spacer\"], [\"mat-flat-button\", \"\", 2, \"width\", \"10px\"], [\"appearance\", \"outline\", 1, \"full-width\"], [\"matInput\", \"\", \"color\", \"\", \"cdkTextareaAutosize\", \"\", \"formControlName\", \"mensaje\", \"cdkAutosizeMinRows\", \"1\", \"cdkAutosizeMaxRows\", \"20\", \"rows\", \"8\", \"cols\", \"40\", 2, \"color\", \"white\", 3, \"ngModel\", \"ngModelChange\"]],\n    template: function ContactanosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function ContactanosComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.enviarContatos();\n        });\n        i0.ɵɵelementStart(1, \"body\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"mat-label\", 4);\n        i0.ɵɵtext(5, \"Contactanos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"p\")(8, \"mat-form-field\", 6)(9, \"mat-label\", 7);\n        i0.ɵɵtext(10, \"Asunto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ContactanosComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.asunto = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(12, \"span\", 9);\n        i0.ɵɵelementStart(13, \"button\", 10)(14, \"mat-icon\");\n        i0.ɵɵtext(15, \"mail\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(16, \"div\", 5)(17, \"p\")(18, \"mat-form-field\", 11)(19, \"mat-label\", 7);\n        i0.ɵɵtext(20, \"Mensaje\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"textarea\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ContactanosComponent_Template_textarea_ngModelChange_21_listener($event) {\n          return ctx.mensaje = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(22, \"p\")(23, \"p\");\n        i0.ɵɵelementStart(24, \"p\")(25, \"mat-label\");\n        i0.ɵɵtext(26, \"Puedes Comunicarte tambi\\u00E9n\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"p\")(28, \"mat-label\");\n        i0.ɵɵtext(29, \"Tel\\u00E9fono: +5114283820 anexo 510, 515, 500\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"p\")(31, \"mat-label\");\n        i0.ɵɵtext(32, \"Correo electr\\u00F3nico: operaciones@popular-safi.com \");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.contactanosForm);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngModel\", ctx.asunto);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.mensaje);\n      }\n    },\n    dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i7.MatInput, i8.MatFormField, i8.MatLabel, i9.CdkTextareaAutosize, i10.MatButton, i11.MatIcon, i12.DefaultLayoutDirective],\n    styles: [\".body-container[_ngcontent-%COMP%]{display:flex;background-color:#f6f6f9b4;color:#fff}.example-container[_ngcontent-%COMP%]{border-radius:30px;width:100%;color:#000;background-color:#c9cbcb}.example-container1[_ngcontent-%COMP%]{width:98%;margin:10px;color:#000;background-color:#e4cf84}.contactanos-container[_ngcontent-%COMP%]{color:#0ff}.fields-width[_ngcontent-%COMP%]{width:50%!important}mat-label[_ngcontent-%COMP%]{color:#090909;margin-left:20px}.mat-elevation-10[_ngcontent-%COMP%]{width:1200px;box-sizing:border-box;border-radius:30px;-webkit-border-radius:21px 21px 21px 20px;-moz-border-radius:21px 21px 21px 20px}mat-form-field.mat-form-field.mat-white.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#fafafa}mat-form-field.mat-form-field.mat-white.mat-focused[_ngcontent-%COMP%]   .mat-form-field-ripple[_ngcontent-%COMP%]{background-color:#fafafa!important}mat-form-field.mat-form-field.mat-white[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], mat-form-field.mat-form-field.mat-white[_ngcontent-%COMP%]   .mat-form-field-label.mat-focused[_ngcontent-%COMP%], mat-form-field.mat-form-field.mat-white[_ngcontent-%COMP%]   .mat-form-field.mat-focused.matform-field-should-float[_ngcontent-%COMP%]{color:#fafafa}mat-form-field.mat-form-field.mat-white[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%], mat-form-field.mat-form-field.mat-white[_ngcontent-%COMP%]   .mat-form-field-underline.mat-focused[_ngcontent-%COMP%]{background-color:#fafafa}\"]\n  });\n  return ContactanosComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}