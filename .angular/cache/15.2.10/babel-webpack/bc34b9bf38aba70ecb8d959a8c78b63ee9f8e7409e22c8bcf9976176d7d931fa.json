{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { JwtAuthService } from \"../services/auth/jwt-auth.service\";\nimport { MenuService } from '../services/menu.service';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { MenuUsuario } from '../models/menu.model';\nimport { map } from 'rxjs';\nexport const CertGuardsTsService = (route, state) => {\n  const router = inject(Router);\n  const loginService = inject(JwtAuthService);\n  const menuService = inject(MenuService);\n  const rpta = loginService.islogin;\n  console.log(rpta);\n  if (!rpta) {\n    loginService.signout();\n    return false;\n  }\n  const helper = new JwtHelperService();\n  const token = JSON.parse(sessionStorage.getItem(\"JWT_TOKEN\"));\n  helper.isTokenExpired(token.access_token);\n  if (!helper.isTokenExpired(token.access_token)) {\n    const url = state.url;\n    console.log(url);\n    const decodedToken = helper.decodeToken(token.access_token);\n    const username = decodedToken.sub;\n    return menuService.lista(new MenuUsuario(loginService.user.username, loginService.user.idtipoparticipe)).pipe(map(data => {\n      let count = 0;\n      console.log(data);\n    }));\n  } else {\n    console.log(\"acalastima\");\n    loginService.signout();\n    return false;\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}