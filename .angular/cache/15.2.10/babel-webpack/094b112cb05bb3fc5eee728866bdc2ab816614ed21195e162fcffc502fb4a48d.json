{"ast":null,"code":"import { NavigationEnd, RouteConfigLoadStart, RouteConfigLoadEnd, ResolveStart, ResolveEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ngx-translate/core\";\nimport * as i3 from \"../../../services/theme.service\";\nimport * as i4 from \"../../../services/layout.service\";\nimport * as i5 from \"../../../services/auth/jwt-auth.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/flex-layout/flex\";\nimport * as i8 from \"@angular/flex-layout/extended\";\nimport * as i9 from \"../../perfect-scrollbar/perfect-scrollbar.directive\";\nimport * as i10 from \"@angular/cdk/bidi\";\nimport * as i11 from \"@angular/material/sidenav\";\nimport * as i12 from \"../../header-top/header-top.component\";\nimport * as i13 from \"../../sidebar-top/sidebar-top.component\";\nimport * as i14 from \"../../notifications/notifications.component\";\nimport * as i15 from \"../../sidebar-side/sidebar-side.component\";\nimport * as i16 from \"../../header-side/header-side.component\";\nimport * as i17 from \"../../breadcrumb/breadcrumb.component\";\nimport * as i18 from \"../../egret-notifications2/egret-notifications2.component\";\nimport * as i19 from \"../../footer/footer.component\";\nfunction AdminLayoutComponent_app_header_top_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-header-top\", 15);\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r9 = i0.ɵɵreference(19);\n    i0.ɵɵproperty(\"notificPanel\", _r9);\n  }\n}\nfunction AdminLayoutComponent_app_sidebar_side_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-sidebar-side\", 16);\n    i0.ɵɵlistener(\"mouseenter\", function AdminLayoutComponent_app_sidebar_side_4_Template_app_sidebar_side_mouseenter_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.sidebarMouseenter($event));\n    })(\"mouseleave\", function AdminLayoutComponent_app_sidebar_side_4_Template_app_sidebar_side_mouseleave_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.sidebarMouseleave($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminLayoutComponent_app_sidebar_top_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-sidebar-top\");\n  }\n}\nfunction AdminLayoutComponent_app_header_side_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-header-side\", 15);\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r9 = i0.ɵɵreference(19);\n    i0.ɵɵproperty(\"notificPanel\", _r9);\n  }\n}\nfunction AdminLayoutComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18);\n    i0.ɵɵelement(2, \"div\", 19)(3, \"div\", 20);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminLayoutComponent_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 21);\n  }\n}\nfunction AdminLayoutComponent_app_footer_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-footer\", 22);\n  }\n}\nfunction AdminLayoutComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 21);\n  }\n}\nfunction AdminLayoutComponent_app_footer_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-footer\");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"visible\": a0\n  };\n};\nexport let AdminLayoutComponent = /*#__PURE__*/(() => {\n  class AdminLayoutComponent {\n    constructor(router, translate, themeService, layout, cdr, jwtAuth) {\n      this.router = router;\n      this.translate = translate;\n      this.themeService = themeService;\n      this.layout = layout;\n      this.cdr = cdr;\n      this.jwtAuth = jwtAuth;\n      this.isModuleLoading = false;\n      this.scrollConfig = {};\n      this.layoutConf = {};\n      this.adminContainerClasses = {};\n      // Check Auth Token is valid\n      this.jwtAuth.checkTokenIsValid().subscribe();\n      // Close sidenav after route change in mobile\n      this.routerEventSub = router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(routeChange => {\n        this.layout.adjustLayout({\n          route: routeChange.url\n        });\n        this.scrollToTop();\n      });\n      // Translator init\n      const browserLang = translate.getBrowserLang();\n      translate.use(browserLang.match(/en|fr/) ? browserLang : 'en');\n    }\n    ngOnInit() {\n      // this.layoutConf = this.layout.layoutConf;\n      this.layoutConfSub = this.layout.layoutConf$.subscribe(layoutConf => {\n        this.layoutConf = layoutConf;\n        // console.log(this.layoutConf);\n        this.adminContainerClasses = this.updateAdminContainerClasses(this.layoutConf);\n        this.cdr.markForCheck();\n      });\n      // FOR MODULE LOADER FLAG\n      this.moduleLoaderSub = this.router.events.subscribe(event => {\n        if (event instanceof RouteConfigLoadStart || event instanceof ResolveStart) {\n          this.isModuleLoading = true;\n        }\n        if (event instanceof RouteConfigLoadEnd || event instanceof ResolveEnd) {\n          this.isModuleLoading = false;\n        }\n      });\n    }\n    onResize(event) {\n      this.layout.adjustLayout(event);\n    }\n    ngAfterViewInit() {}\n    scrollToTop() {\n      if (document) {\n        setTimeout(() => {\n          let element;\n          if (this.layoutConf.topbarFixed) {\n            element = document.querySelector('#rightside-content-hold');\n          } else {\n            element = document.querySelector('#main-content-wrap');\n          }\n          element.scrollTop = 0;\n        });\n      }\n    }\n    ngOnDestroy() {\n      if (this.moduleLoaderSub) {\n        this.moduleLoaderSub.unsubscribe();\n      }\n      if (this.layoutConfSub) {\n        this.layoutConfSub.unsubscribe();\n      }\n      if (this.routerEventSub) {\n        this.routerEventSub.unsubscribe();\n      }\n    }\n    closeSidebar() {\n      this.layout.publishLayoutChange({\n        sidebarStyle: 'closed'\n      });\n    }\n    sidebarMouseenter(e) {\n      // console.log(this.layoutConf);\n      if (this.layoutConf.sidebarStyle === 'compact') {\n        this.layout.publishLayoutChange({\n          sidebarStyle: 'full'\n        }, {\n          transitionClass: true\n        });\n      }\n    }\n    sidebarMouseleave(e) {\n      // console.log(this.layoutConf);\n      if (this.layoutConf.sidebarStyle === 'full' && this.layoutConf.sidebarCompactToggle) {\n        this.layout.publishLayoutChange({\n          sidebarStyle: 'compact'\n        }, {\n          transitionClass: true\n        });\n      }\n    }\n    updateAdminContainerClasses(layoutConf) {\n      return {\n        'navigation-top': layoutConf.navigationPos === 'top',\n        'sidebar-full': layoutConf.sidebarStyle === 'full',\n        'sidebar-compact': layoutConf.sidebarStyle === 'compact' && layoutConf.navigationPos === 'side',\n        'compact-toggle-active': layoutConf.sidebarCompactToggle,\n        'sidebar-compact-big': layoutConf.sidebarStyle === 'compact-big' && layoutConf.navigationPos === 'side',\n        'sidebar-opened': layoutConf.sidebarStyle !== 'closed' && layoutConf.navigationPos === 'side',\n        'sidebar-closed': layoutConf.sidebarStyle === 'closed',\n        'fixed-topbar': layoutConf.topbarFixed && layoutConf.navigationPos === 'side'\n      };\n    }\n  }\n  AdminLayoutComponent.ɵfac = function AdminLayoutComponent_Factory(t) {\n    return new (t || AdminLayoutComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TranslateService), i0.ɵɵdirectiveInject(i3.ThemeService), i0.ɵɵdirectiveInject(i4.LayoutService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i5.JwtAuthService));\n  };\n  AdminLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminLayoutComponent,\n    selectors: [[\"app-admin-layout\"]],\n    hostBindings: function AdminLayoutComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"resize\", function AdminLayoutComponent_resize_HostBindingHandler($event) {\n          return ctx.onResize($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 23,\n    vars: 24,\n    consts: [[1, \"app-admin-wrap\", 3, \"dir\"], [3, \"notificPanel\", 4, \"ngIf\"], [3, \"dir\", \"ngClass\"], [3, \"mouseenter\", \"mouseleave\", 4, \"ngIf\"], [4, \"ngIf\"], [\"id\", \"main-content-wrap\", 1, \"main-content-wrap\", 3, \"perfectScrollbar\", \"disabled\"], [\"id\", \"rightside-content-hold\", 1, \"rightside-content-hold\", 3, \"perfectScrollbar\", \"disabled\"], [\"class\", \"view-loader\", \"style\", \"position:fixed;\", \"fxLayout\", \"column\", \"fxLayoutAlign\", \"center center\", 4, \"ngIf\"], [1, \"container-dynamic\"], [\"class\", \"m-auto\", 4, \"ngIf\"], [\"style\", \"margin: 0 -.33rem -.33rem\", 4, \"ngIf\"], [1, \"sidebar-backdrop\", 3, \"ngClass\", \"click\"], [\"mode\", \"over\", \"position\", \"end\", 1, \"\"], [\"notificationPanel\", \"\"], [\"fxLayout\", \"column\", 1, \"nofication-panel\"], [3, \"notificPanel\"], [3, \"mouseenter\", \"mouseleave\"], [\"fxLayout\", \"column\", \"fxLayoutAlign\", \"center center\", 1, \"view-loader\", 2, \"position\", \"fixed\"], [1, \"spinner\"], [1, \"double-bounce1\", \"mat-bg-accent\"], [1, \"double-bounce2\", \"mat-bg-primary\"], [1, \"m-auto\"], [2, \"margin\", \"0 -.33rem -.33rem\"]],\n    template: function AdminLayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AdminLayoutComponent_app_header_top_1_Template, 1, 1, \"app-header-top\", 1);\n        i0.ɵɵelementStart(2, \"mat-sidenav-container\", 2)(3, \"mat-sidenav-content\");\n        i0.ɵɵtemplate(4, AdminLayoutComponent_app_sidebar_side_4_Template, 1, 0, \"app-sidebar-side\", 3);\n        i0.ɵɵtemplate(5, AdminLayoutComponent_app_sidebar_top_5_Template, 1, 0, \"app-sidebar-top\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵtemplate(7, AdminLayoutComponent_app_header_side_7_Template, 1, 1, \"app-header-side\", 1);\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵtemplate(9, AdminLayoutComponent_div_9_Template, 4, 0, \"div\", 7);\n        i0.ɵɵelement(10, \"app-breadcrumb\");\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵelement(12, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, AdminLayoutComponent_span_13_Template, 1, 0, \"span\", 9);\n        i0.ɵɵtemplate(14, AdminLayoutComponent_app_footer_14_Template, 1, 0, \"app-footer\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, AdminLayoutComponent_span_15_Template, 1, 0, \"span\", 9);\n        i0.ɵɵtemplate(16, AdminLayoutComponent_app_footer_16_Template, 1, 0, \"app-footer\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 11);\n        i0.ɵɵlistener(\"click\", function AdminLayoutComponent_Template_div_click_17_listener() {\n          return ctx.closeSidebar();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"mat-sidenav\", 12, 13)(20, \"div\", 14);\n        i0.ɵɵelement(21, \"app-notifications\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(22, \"egret-notifications2\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        const _r9 = i0.ɵɵreference(19);\n        i0.ɵɵproperty(\"dir\", ctx.layoutConf == null ? null : ctx.layoutConf.dir);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.layoutConf.navigationPos === \"top\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMapInterpolate3(\"app-admin-container app-side-nav-container mat-drawer-transition sidebar-\", ctx.layoutConf == null ? null : ctx.layoutConf.sidebarColor, \" topbar-\", ctx.layoutConf == null ? null : ctx.layoutConf.topbarColor, \" footer-\", ctx.layoutConf == null ? null : ctx.layoutConf.footerColor, \"\");\n        i0.ɵɵproperty(\"dir\", ctx.layoutConf.dir)(\"ngClass\", ctx.adminContainerClasses);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.layoutConf.navigationPos === \"side\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.layoutConf.navigationPos === \"top\" && ctx.layoutConf.isMobile);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.layoutConf.topbarFixed || !ctx.layoutConf.perfectScrollbar);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.layoutConf.navigationPos === \"side\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"perfectScrollbar\", ctx.scrollConfig)(\"disabled\", !ctx.layoutConf.topbarFixed || !ctx.layoutConf.perfectScrollbar);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isModuleLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", !ctx.layoutConf.footerFixed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.layoutConf.footerFixed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.layoutConf.footerFixed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.layoutConf.footerFixed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(22, _c0, ctx.layoutConf.sidebarStyle !== \"closed\" && ctx.layoutConf.isMobile));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"notificPanel\", _r9);\n      }\n    },\n    dependencies: [i6.NgClass, i6.NgIf, i1.RouterOutlet, i7.DefaultLayoutDirective, i7.DefaultLayoutAlignDirective, i8.DefaultClassDirective, i9.PerfectScrollbarDirective, i10.Dir, i11.MatSidenav, i11.MatSidenavContainer, i11.MatSidenavContent, i12.HeaderTopComponent, i13.SidebarTopComponent, i14.NotificationsComponent, i15.SidebarSideComponent, i16.HeaderSideComponent, i17.BreadcrumbComponent, i18.EgretNotifications2Component, i19.FooterComponent],\n    encapsulation: 2\n  });\n  return AdminLayoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}